yearâ€¿day â† â€¢args


Log â† {msgğ•Šval:
	â€¢Show msgâ€¿val
	val
}

â€¢ParseFloat year
â€¢ParseFloat day


inputs_dir â† â€¢wdpathâˆ¾"/inputs/" âˆ¾ year
sample_dir â† â€¢wdpathâˆ¾ "/samples/" âˆ¾ year
source_dir â† â€¢wdpathâˆ¾ "/src/" âˆ¾ year

inputs_filename â† â€¢wdpathâˆ¾ "/inputs/" âˆ¾ year âˆ¾ "/day" âˆ¾ day âˆ¾ ".txt"
sample_filename â† â€¢wdpathâˆ¾ "/samples/" âˆ¾ year âˆ¾ "/day" âˆ¾ day âˆ¾ ".txt"
source_filename â† â€¢wdpathâˆ¾ "/src/" âˆ¾ year âˆ¾ "/day" âˆ¾ day âˆ¾ ".bqn"

# wrap text with green ascii color:
Green â† {ğ•Štext: "[32m" âˆ¾ text âˆ¾ "[0m"}
# wrap text with grey ascii color:
Grey â† {ğ•Štext: "[90m" âˆ¾ text âˆ¾ "[0m"}
# wrap text with red ascii color:
Red â† {ğ•Štext: "[31m" âˆ¾ text âˆ¾ "[0m"}


StripPrefix â† {prefixğ•Špath:
	Find â† (â‰¢âˆ˜âŠ¢â†‘â·)
	mask â† prefix Find path
	{ğ•Š:
		Ranges â† prefixâŠ¸{(â†•â‰ ğ•¨)âŠ¸+Ë˜ / ğ•¨âŠ¸Find ğ•©}
		{âˆ¾Â´Â¬ âŒˆËË˜ (Ranges ğ•©)=Â¨ < â†•â‰ ğ•©}âŠ¸/path
	}âŸ(âŒˆÂ´ mask)path
}

StripRoot â† â€¢wdpathâŠ¸StripPrefix

SafeCreateDir â† {ğ•Šdir:
	fs â† âŸ¨
		# â€¢file.CreateDirâŠ(â€¢Out "Can't create dir, maybe already exists ? "âˆ¾ â€¢Currenterror) dir,
		{ğ•Š:
			â€¢file.CreateDir dir
			Green "âœ… dir created successfully"
		},
		Grey "- dir already exists!"
	âŸ©
	âŠ¢â—¶ fs â€¢file.Exists dir
}

SafeCreateFile â† {ğ•Šfilepath:
	err_msg â† Red "Can't create file, maybe already exists ? "
	âŠ¢â—¶ âŸ¨
		{ğ•Š:
			filepath â€¢file.Bytes ""
			Green "âœ… file created successfully"
		},
		Grey "- file already exists!"
	âŸ© â€¢file.Exists filepath

}


â€¢Out "Creating input directory: " âˆ¾ StripRoot inputs_dir
â€¢Out SafeCreateDir inputs_dir
â€¢Out "Creating sample directory: " âˆ¾ StripRoot sample_dir
â€¢Out SafeCreateDir sample_dir
â€¢Out "Creating source directory: " âˆ¾ StripRoot source_dir
â€¢Out SafeCreateDir source_dir

â€¢Out "Creating input file: " âˆ¾ StripRoot inputs_filename
â€¢Out SafeCreateFile inputs_filename
â€¢Out "Creating sample file: " âˆ¾ StripRoot sample_filename
â€¢Out SafeCreateFile sample_filename
â€¢Out "Creating source file: " âˆ¾ source_filename
â€¢Out SafeCreateFile source_filename
