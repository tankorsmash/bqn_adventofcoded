cursor_eraseline â† 1âŠ‘ â€¢Sh "tput"â€¿"el" #fetch strings once
â€¢Out cursor_eraseline âˆ¾ 1âŠ‘ â€¢Sh "tput"â€¿"rmam" #disable linewrap, but only if you print it (I think)

data â† â€¢file.Lines "../../samples/2025/day2.txt"
# data â†© â€¢file.Lines "../../samples/2025/day2_alt.txt"
data â†© â€¢file.Lines "../../inputs/2025/day2.txt"
data â†© âˆ¾data

# dyadic show but returns paired args
DShow â† {â€¢Show ğ•¨â€¿ğ•©â‹„ ğ•©}

Log â† {msgğ•Šval:
	â€¢Show (<msg)âˆ¾val
	val
}
RLog â† {msgğ•Šval:
	# â€¢Show (msg)â‹ˆval
	val
}
"x"Rlog xâ†"1"
"d"Rlog dâ† "121212"
# "x"Rlog xâ†"12"
# "d"Rlog dâ† "121212"
# "x"Rlog xâ†"abc"
# "d"Rlog dâ† "abcabc"
F â† {dğ•Šx: 
"len x"Rlog â‰  x
"mask" Rlog maskâ†âˆ¾âŸœ((-âŸœ1â‰ x)â¥Š0)âŸ{ 1<  â‰ x} "prem" Rlog xâ·d
"expe" Rlog expectedâ† (1âŒ¾âŠ‘(â‰ x)â¥Š0)â¥ŠËœ( (â‰ x)Ã—(â‰ d)Ã·(â‰ x))
"is valid?" Rlog maskâ‰¡ expected
}
# "121212" F "12"



PartOne â† {ğ•Šlines:
	"data"RLog data
	rangesâ†â€¢ParseFloatâš‡1 (1âŠ¸â†“âŒ¾(1âŠ¸âŠ‘))Â¨ (+`'-'âŠ¸=)âŠ¸âŠ”Â¨ (','âŠ¸â‰ )âŠ¸/Â¨ (+`','âŠ¸=)âŠ¸âŠ” data
	+Â´ â€¢ParseFloatÂ¨ ((Ã·âŸœ1âˆ˜â‰ Â¨)(â†‘â‰¡â†“)Â¨âŠ¢)âŠ¸/ (0=2|â‰ Â¨)âŠ¸/ â€¢ReprÂ¨ âˆ¾ {ğ•¨+â†• ğ•¨Â¬Ëœğ•©}Â´Â¨ ranges
}

PartTwo â† {ğ•Šlines:
	"data"RLog data
	rangesâ†â€¢ParseFloatâš‡1 (1âŠ¸â†“âŒ¾(1âŠ¸âŠ‘))Â¨ (+`'-'âŠ¸=)âŠ¸âŠ”Â¨ (','âŠ¸â‰ )âŠ¸/Â¨ (+`','âŠ¸=)âŠ¸âŠ” data
	nums â† âˆ¾ {ğ•¨+â†• ğ•¨Â¬Ëœğ•©}Â´Â¨ ranges
	# â€¢ShowÂ¨ {0â‰ â‰  {râ†+Â´ğ•©â·dâ‹„((â‰ d)=rÃ—â‰ ğ•©)}Â¨âŠ¸/ ((âŒŠÃ·âŸœ2â‰ d)âŠ¸â‰¥ â‰ Â¨)âŠ¸/ 1â†“â†‘ dâ†â€¢Repr ğ•©}Â¨âŠ¸/ nums
	# â€¢Show {0â‰ â‰  {râ†"r"Rlog +Â´"mask"Rlogğ•©â·dâ‹„("valid" Rlog (â‰ d)=rÃ— "len x"Rlog â‰ ğ•©)}Â¨âŠ¸/ â€¢Show ((âŒŠÃ·âŸœ2â‰ d)âŠ¸â‰¥ â‰ Â¨)âŠ¸/ 1â†“â†‘ â€¢Show dâ†â€¢Repr ğ•©}Â¨ â‹ˆ565659
	+Â´ {0â‰ â‰  dâŠ¸FÂ¨âŠ¸/ ((âŒŠÃ·âŸœ2â‰ d)âŠ¸â‰¥ â‰ Â¨)âŠ¸/ 1â†“â†‘ dâ†â€¢Repr ğ•©}Â¨âŠ¸/ nums

}

SolutionValidator â† {partâ€¿expectedğ•Šanswer:
	max_length â† expected âŒˆâ—‹(â‰ â€¢Fmt)  answer
	err_msg â† ("
Part "âˆ¾(â€¢Fmt part)âˆ¾" is wrong!"âˆ¾"
Expected: "âˆ¾({Â»âŸ(max_lengthâŠ¸-â‰ ğ•©) max_lengthâŠ¸â†‘ğ•©} â€¢Fmt expected)âˆ¾"
  Actual: "âˆ¾({Â»âŸ(max_lengthâŠ¸-â‰ ğ•©) max_lengthâŠ¸â†‘ğ•©} â€¢Fmt answer))âˆ¾"
"
	err_msg!(expected= answer)
	â€¢Show "Correctly solved Part "âˆ¾(â€¢Fmt part)âˆ¾": "âˆ¾(â€¢Fmt answer)
}

AtLeastPartialSolutionValidator â† {partâ€¿expectedğ•Šanswer:
	err_msg â† ("Part "âˆ¾(â€¢Fmt part)âˆ¾" is too low! Got instead: "âˆ¾(â€¢Fmt answer))
	err_msg!(expectedâ‰¥ answer)
	â€¢Show "Correctly solved Part "âˆ¾(â€¢Fmt part)âˆ¾": "âˆ¾(â€¢Fmt answer)
}

AtMostPartialSolutionValidator â† {partâ€¿expectedğ•Šanswer:
	err_msg â† ("Part "âˆ¾(â€¢Fmt part)âˆ¾" is too high! Got instead: "âˆ¾(â€¢Fmt answer))
	err_msg!(expected< answer)
	â€¢Show "Correctly solved Part "âˆ¾(â€¢Fmt part)âˆ¾": "âˆ¾(â€¢Fmt answer)
}


# "part 1: " Log PartOne data
"part 2: " Log PartTwo data

# sample
# 1â€¿29940924880 SolutionValidator PartOne data
# input
# 1â€¿??? SolutionValidator PartOne data

# too high: 18363057543840
# sample
# 2â€¿??? SolutionValidator PartTwo data
# input
# 2â€¿??? SolutionValidator PartTwo data
