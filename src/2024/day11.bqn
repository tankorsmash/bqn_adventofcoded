data â† â€¢file.Lines "../../samples/2024/day11.txt"
# data â†© â€¢file.Lines "../../samples/2024/day11_alt.txt"
# data â†© â€¢file.Lines "../../inputs/2024/day11.txt"



# dyadic show but returns paired args
DShow â† {â€¢Show ğ•¨â€¿ğ•©â‹„ ğ•©}

Log â† {msgğ•Šval:
	â€¢Show (<msg)âˆ¾val
	val
}
RLog â† {msgğ•Šval:
	â€¢Show (msg)â‹ˆval
	val
}

iters â† âŸ¨âŸ©
PartOne â† {ğ•Šlines:
	Incr â† {ğ•©} #{ğ•Šstone: iters â†© itersâˆ¾stone}
	Next â† {
		0: Incr 0â‹„âŸ¨1âŸ©;
		ğ•Šstone: 0=2âŠ¸|â‰ â€¢Repr stone ?
			Incr stone
			len â† Ã·âŸœ2â‰   repr â† â€¢Repr  stone
			(â€¢ParseFloat lenâ†‘repr)â€¿(â€¢ParseFloat lenâ†“repr)
		;
		ğ•Šstone: Incr stoneâ‹„âŸ¨stone Ã— 2024âŸ©
	}

	stones â†  â€¢ParseFloatÂ¨ ((' 'âŠ¸â‰ ))âŠ¸/Â¨ (+`' 'âŠ¸=)âŠ¸âŠ” âŠ‘lines
	res â† â‰  (âˆ¾ NextÂ¨)âŸ25 stones
	"iters" Log (â‰ iters)â€¿(â‰ â·iters)

	res

}

PartTwo â† {ğ•Šlines:
	memo â† âŸ¨0âŸ© â€¢Hashmap âŸ¨âŸ¨1âŸ©âŸ©
	â€¢Show memo

	lines â†© â‹ˆ"4523 0"

	# Incr â† âŠ¢
	# Incr â† {ğ•Šstone: iters â†© itersâˆ¾stone}
	Save â† {stoneğ•Šval:
		stone memo.Set val
	}
	Next â† {
		ğ•Šstone: { hasâ† memo.Has stone }? {
			memo.Get stone
		};
		# 0: Incr 0â‹„âŸ¨1âŸ©;
		ğ•Šstone: 0=2âŠ¸|â‰  reprâ†â€¢Repr stone ?
			# Incr stone
			len â† Ã·âŸœ2â‰   repr
			# "stone" RLog stone
			!âŸ¨âŸ©â‰¡â‰¢stone

			res â† (â€¢ParseFloat lenâ†‘repr)â€¿(â€¢ParseFloat lenâ†“repr)
			# "split" RLog res
			stone Save res
			res
		;
		ğ•Šstone: {
			# Incr stone
			res â† âŸ¨stone Ã— 2024âŸ©
			# "default" RLog res
			stone Save res
			res
			}
	}


	#      âŒœ-------------------------------------âŒ
	# 0 -> 1 -> 2024 -> 20 24 -> 2 0 2 4 -> 4028 1 4028 8096
	# 0 -> 1 -> 2024 -> 20 -> 2 -> 4028 -> 40 -> 4
	#                                         -> 0
	#                                      28 -> 2
	#                                         -> 8 -> 16192 -> 32772608 -> 3277 -> 32 -> 2
	#                                                                                 -> 3 -> 6072 -> 60
	#                                                                                              -> 72
	#                                                                           -> 77 -> 7
	#                                                                                 -> 7
	#                                                                   -> 2608
	#											    0 -> 1
	#										24 -> 2 -> 4028
	#                         4 -> 8096

	start â† â€¢Monotime @
	stones â†  â€¢ParseFloatÂ¨ ((' 'âŠ¸â‰ ))âŠ¸/Â¨ (+`' 'âŠ¸=)âŠ¸âŠ” âŠ‘lines
	PairORIG â† âˆ¾(NextË˜âŠ¸(â‹ˆÂ¨)âˆ˜âŠ‘Â¨)
	Pair â† {âˆ¾ {ğ•Šs:
			nums â† (NextË˜âˆ˜âŠ‘âˆ˜("s"âŠ¸Rlog)) s
			"nums" Rlog numsâˆ¾Â¨(<s)
		}Â¨  ğ•©}
	"final"âŠ¸RlogÂ¨ PairâŸ4 "stones" RLog â‹ˆÂ¨stones
	# 45â€¿4523
	# 23â€¿4523
	# 1â€¿0

	â€¢Show (â†•â‰ )â€¢Show 11â€¿22â€¿33
	â€¢Show (â†•â‰ "abc")âŠ¸(âˆ¾Ë˜)"abc"

	â€¢Exit 0
	iterations â† "iterations" Log 1
	res â†  (âˆ¾ NextÂ¨)âŸiterations stones
	"iters" Log (â‰ iters)â€¿(â‰ â·iters)
	end â† â€¢Monotime @
	"elapsed" Log end-start

	"res"Log res
	â‰ res
}

SolutionValidator â† {partâ€¿expectedğ•Šanswer:
	err_msg â† ("Part "âˆ¾(â€¢Fmt part)âˆ¾" is wrong! Got instead: "âˆ¾(â€¢Fmt answer))
	err_msg!(expected= answer)
	â€¢Show "Correctly solved Part "âˆ¾(â€¢Fmt part)âˆ¾": "âˆ¾(â€¢Fmt answer)
}

AtLeastPartialSolutionValidator â† {partâ€¿expectedğ•Šanswer:
	err_msg â† ("Part "âˆ¾(â€¢Fmt part)âˆ¾" is too low! Got instead: "âˆ¾(â€¢Fmt answer))
	err_msg!(expectedâ‰¥ answer)
	â€¢Show "Correctly solved Part "âˆ¾(â€¢Fmt part)âˆ¾": "âˆ¾(â€¢Fmt answer)
}

AtMostPartialSolutionValidator â† {partâ€¿expectedğ•Šanswer:
	err_msg â† ("Part "âˆ¾(â€¢Fmt part)âˆ¾" is too high! Got instead: "âˆ¾(â€¢Fmt answer))
	err_msg!(expected< answer)
	â€¢Show "Correctly solved Part "âˆ¾(â€¢Fmt part)âˆ¾": "âˆ¾(â€¢Fmt answer)
}


# "part 1: " Log PartOne data
# "part 2: " Log PartTwo  data

# sample
# 1â€¿55312 SolutionValidator PartOne data
# input
# 1â€¿194482 SolutionValidator PartOne data

# sample
# 2â€¿??? SolutionValidator PartTwo data
2â€¿55312 SolutionValidator PartTwo data
# input
# 2â€¿??? SolutionValidator PartTwo data
