data â† â€¢file.Lines "../../samples/2024/day4.txt"
# data â†© â€¢file.Lines "../../samples/2024/day4_alt.txt"
data â†© â€¢file.Lines "../../inputs/2024/day4.txt"


Log â† {msgğ•Šval:
	â€¢Show msgâ€¿val
	val
}

verbose â† 0
CLog â† {msgğ•Šval:
	{verbose ? â€¢Show msgâ€¿val ; @}
	val
}


PartOne â† {ğ•Šlines:
	xmas â† "XMAS"
	â€¢Out 50/"-"
	CountXmas â† (+Â´(>xmas)âŠ¸â·)

	len â† â‰ lines
	r_idxs â† {(Â»âŸğ•© {ğ•©âŒ¾(0â€¿0âŠ¸â‰)0âŒœËœğ•©} lenâ¥Š1)}Ë˜  â†•len
	rres â† âˆ¾Â¨ {ğ•©{ğ•¨<âˆ˜/(>ğ•©)}Ë˜lines}Â¨ r_idxs
	l_idxs â† {(Â«âŸğ•© {ğ•©âŒ¾(0â€¿0âŠ¸â‰)0âŒœËœğ•©} lenâ¥Š1)}Ë˜  1â†“â†•len
	lres â† âˆ¾Â¨ {ğ•©{ğ•¨<âˆ˜/(>ğ•©)}Ë˜lines}Â¨ l_idxs

	rr_idxs â† âŒ½â‰âŒ½Â¨ {(Â»âŸğ•© {ğ•©âŒ¾(0â€¿0âŠ¸â‰)0âŒœËœğ•©} lenâ¥Š1)}Ë˜  â†•len
	rrres â† âˆ¾Â¨ {ğ•©{ğ•¨<âˆ˜/(>ğ•©)}Ë˜lines}Â¨ rr_idxs
	rl_idxs â† âŒ½â‰âŒ½Â¨ {(Â«âŸğ•© {ğ•©âŒ¾(0â€¿0âŠ¸â‰)0âŒœËœğ•©} lenâ¥Š1)}Ë˜  1â†“â†•len
	rlres â† âˆ¾Â¨ {ğ•©{ğ•¨<âˆ˜/(>ğ•©)}Ë˜lines}Â¨ rl_idxs

	res â† [
		lr â† +Â´ CountXmasÂ¨     lines
		rl â† +Â´ CountXmasÂ¨ âŒ½Â¨  lines
		tb â† +Â´ CountXmasË˜   â‰>lines
		bt â† +Â´ CountXmasË˜ âŒ½Ë˜â‰>lines

		di â† +Â´ CountXmasÂ¨    lresâˆ¾rres
		id â† +Â´ CountXmasÂ¨ âŒ½Â¨ lresâˆ¾rres
		dr â† +Â´ CountXmasÂ¨    rlresâˆ¾rrres
		rd â† +Â´ CountXmasÂ¨ âŒ½Â¨ rlresâˆ¾rrres
	]

	+Â´ res
}

PartTwo â† {ğ•Šlines:
	mas â† "MAS"
	sam â† "SAM"
	CountXmas â† (+Â´(>mas)âŠ¸â·)

	PerWindow â† {ğ•Šidxâ€¿window:

		FindA â† {
			mases â† (1+ Â· / masâŠ¸â·)Â¨âˆ¾Â¨ (<âˆ˜/âŸœ>Ë˜)âŸœwindowÂ¨ ğ•©
			samses â† (1+ Â· / samâŠ¸â·)Â¨âˆ¾Â¨ (<âˆ˜/âŸœ>Ë˜)âŸœwindowÂ¨ ğ•©
			masesâˆ§âˆ˜âˆ¾Â¨samses
		}
		RightShift â† {Â»âŸğ•© (lenâ¥Š1)âŒ¾(0â€¿0âŠ¸â‰)  0âŒœËœ lenâ¥Š1}
		LeftShift â† {Â«âŸğ•© (lenâ¥Š1)âŒ¾(0â€¿0âŠ¸â‰)  0âŒœËœ lenâ¥Š1}

		len â† â‰ window
		r_idxs â† (âŒ½ RightShiftË˜  â†•len)âˆ¾(LeftShiftË˜  1â†“â†•len)
		rres  â† FindA r_idxs

		rr_idxs â†  âŒ½( âŒ½â‰âŒ½Â¨ RightShiftË˜  â†•len)âˆ¾(âŒ½â‰âŒ½Â¨ LeftShiftË˜  1â†“â†•len)
		rrres â† FindA rr_idxs

		 valid â†  âŠ‘ âŒŠÂ´ â‰ Â¨ a_pos â† 2âŠ (rresâˆ¾Ë˜rrres)
	}


	grid â† >Ë˜ lines
	windows â† âˆ¾Ë 3â€¿3â†•grid

	+Â´ PerWindowË˜ ((â†•âˆ˜â‰ )â‹ˆË˜âŠ¢)windows
	# â€¢Show PerWindow 123â€¿(56âŠwindows)
}

â€¢Out 50/"-"

SolutionValidator â† {partâ€¿expectedğ•Šanswer:
	err_msg â† ("Part "âˆ¾partâˆ¾" is wrong! Got instead: "âˆ¾(â€¢Fmt answer))
	err_msg!expected= answer
	â€¢Show "Part "âˆ¾(â€¢Fmt part)âˆ¾": "âˆ¾(â€¢Fmt answer)
}


# "part 1: " Log PartOne data
# "part 2: " Log PartTwo data
1â€¿2530 SolutionValidator PartOne data
2â€¿1921 SolutionValidator PartTwo data
