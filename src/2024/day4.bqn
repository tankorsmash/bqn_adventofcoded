data â† â€¢file.Lines "../../samples/2024/day4.txt"
# data â†© â€¢file.Lines "../../samples/2024/day4_alt.txt"
data â†© â€¢file.Lines "../../inputs/2024/day4.txt"


Log â† {msgğ•Šval:
	â€¢Show msgâ€¿val
	val
}

verbose â† 0
CLog â† {msgğ•Šval:
	{verbose ? â€¢Show msgâ€¿val ; @}
	val
}



â€¢Out 50/"-"

PartOne â† {ğ•Šlines:
	xmas â† "XMAS"
	â€¢Out "orig"
	# (â€¢Show )Â¨ lines
	â€¢Out 50/"-"
	CountXmas â† (+Â´(>xmas)âŠ¸â·)

	len â† â‰ lines
	r_idxs â† {(Â»âŸğ•© {ğ•©âŒ¾(0â€¿0âŠ¸â‰)0âŒœËœğ•©} lenâ¥Š1)}Ë˜  â†•len
	rres â† âˆ¾Â¨ {ğ•©{ğ•¨<âˆ˜/(>ğ•©)}Ë˜lines}Â¨ r_idxs
	l_idxs â† {(Â«âŸğ•© {ğ•©âŒ¾(0â€¿0âŠ¸â‰)0âŒœËœğ•©} lenâ¥Š1)}Ë˜  1â†“â†•len
	lres â† âˆ¾Â¨ {ğ•©{ğ•¨<âˆ˜/(>ğ•©)}Ë˜lines}Â¨ l_idxs

	rr_idxs â† âŒ½â‰âŒ½Â¨ {(Â»âŸğ•© {ğ•©âŒ¾(0â€¿0âŠ¸â‰)0âŒœËœğ•©} lenâ¥Š1)}Ë˜  â†•len
	rrres â† âˆ¾Â¨ {ğ•©{ğ•¨<âˆ˜/(>ğ•©)}Ë˜lines}Â¨ rr_idxs
	rl_idxs â† âŒ½â‰âŒ½Â¨ {(Â«âŸğ•© {ğ•©âŒ¾(0â€¿0âŠ¸â‰)0âŒœËœğ•©} lenâ¥Š1)}Ë˜  1â†“â†•len
	rlres â† âˆ¾Â¨ {ğ•©{ğ•¨<âˆ˜/(>ğ•©)}Ë˜lines}Â¨ rl_idxs

	res â† [
		"LR total" Log +Â´ CountXmasÂ¨     lines
		"RL total" Log +Â´ CountXmasÂ¨ âŒ½Â¨  lines
		"TB total" Log +Â´ CountXmasË˜   â‰>lines
		"BT total" Log +Â´ CountXmasË˜ âŒ½Ë˜â‰>lines

		"DI total" Log +Â´ CountXmasÂ¨    lresâˆ¾rres
		"ID total" Log +Â´ CountXmasÂ¨ âŒ½Â¨ lresâˆ¾rres
		"DR total" Log +Â´ CountXmasÂ¨    rlresâˆ¾rrres
		"RD total" Log +Â´ CountXmasÂ¨ âŒ½Â¨ rlresâˆ¾rrres
	]
	# "BT total"âŠ¸LogË˜ (((>xmas)âŠ¸â·)âˆ˜â‰)Ë˜ âŒ½>lines
	# â€¢Out 50/"-"
	â€¢Show +Â´ res
}

PartTwo â† {ğ•Šlines:
	mas â† "MAS"
	sam â† "SAM"
	â€¢Out "orig"
	# (â€¢Show )Â¨ lines
	â€¢Out 50/"-"
	CountXmas â† (+Â´(>mas)âŠ¸â·)

	# lines â†© 5â€¿5â¥Š >lines
	# "lines"Log lines

	PerWindow â† {ğ•Šidxâ€¿window:
		# "idx" Log âŠ‘idx
		# "window" Log window

		FindA â† {
			mases â† (1+ Â· / masâŠ¸â·)Â¨âˆ¾Â¨ (<âˆ˜/âŸœ>Ë˜)âŸœwindowÂ¨ ğ•©
			samses â† (1+ Â· / samâŠ¸â·)Â¨âˆ¾Â¨ (<âˆ˜/âŸœ>Ë˜)âŸœwindowÂ¨ ğ•©
			masesâˆ§âˆ˜âˆ¾Â¨samses
		}
		RightShift â† {Â»âŸğ•© (lenâ¥Š1)âŒ¾(0â€¿0âŠ¸â‰)  0âŒœËœ lenâ¥Š1}
		LeftShift â† {Â«âŸğ•© (lenâ¥Š1)âŒ¾(0â€¿0âŠ¸â‰)  0âŒœËœ lenâ¥Š1}


		len â† â‰ window
		r_idxs â† (âŒ½ RightShiftË˜  â†•len)âˆ¾(LeftShiftË˜  1â†“â†•len)
		rres  â† FindA r_idxs

		rr_idxs â†  âŒ½( âŒ½â‰âŒ½Â¨ RightShiftË˜  â†•len)âˆ¾(âŒ½â‰âŒ½Â¨ LeftShiftË˜  1â†“â†•len)
		rrres â† FindA rr_idxs

		# â€¢Show r_idxs
		# â€¢Show rr_idxs

		# "rres" Log rres
		# "rrres" Log rrres

		 valid â†  âŠ‘ âŒŠÂ´ â‰ Â¨ a_pos â† 2âŠ (rresâˆ¾Ë˜rrres)
		# "valid cross" Log valid

	}


	# # grid â† 5â€¿5â¥Š @+97 + â†•26
	# â€¢Show â‰¢data
	grid â† >Ë˜ lines
	# "grid" Log grid
	windows â† âˆ¾Ë 3â€¿3â†•grid
	# "windows" Log windows

	+Â´ PerWindowË˜ ((â†•âˆ˜â‰ )â‹ˆË˜âŠ¢)windows
	# â€¢Show PerWindow 123â€¿(56âŠwindows)
	# â€¢Show PerWindow 10âŠwindows

	# window â† lines

}

# â€¢Show input â† "zMASyMASaMASMAS"
# â€¢Show rres â† 1+ / "MAS"â·input
# â€¢Show rev_input â† "zMbSyMAScMASMAS"
# â€¢Show lres â† 1+ / "MAS"â·rev_input

# â€¢Out 50/"-"
# â€¢Show /Ëœ lres âˆŠ rres
# â€¢Show /Ëœ lres âˆŠËœ rres
# â€¢Out 5/"-"
# â€¢Show lres /âˆ˜âˆŠ  rres
# â€¢Show lres /âˆ˜(âˆŠËœ) rres
# â€¢Show â‰ âŠ‘lres ((/ËœâˆŠ)â‹ˆ(/ËœâˆŠËœ)) rres
â€¢Out 50/"-"

#  â€¢ShowÂ¨ 0âŒœËœ 5â†‘100â¥Š1

SolutionValidator â† {expectedğ•Šanswer:
	err_msg â† ("Part 2 is wrong! Got instead: "âˆ¾(â€¢Fmt answer))
	err_msg!expected= answer
	â€¢Show "Part 2: "âˆ¾(â€¢Fmt answer)
}


# "part 1: " Log PartOne data
# "part 2: " Log PartTwo data
# {((<"Part 1 is wrong! Got:")âˆ¾ğ•©)!2530= ğ•©}"part 1: " Log PartOne data
1921 SolutionValidator PartTwo data
