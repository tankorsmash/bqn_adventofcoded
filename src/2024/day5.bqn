data â† â€¢file.Lines "../../samples/2024/day5.txt"
# data â†© â€¢file.Lines "../../samples/2024/day5_alt.txt"
data â†© â€¢file.Lines "../../inputs/2024/day5.txt"


Log â† {msgğ•Šval:
	â€¢Show msgâ€¿val
	val
}

PartOne â† {ğ•Šlines:
	# "lines"âŠ¸LogÂ¨ lines
	raw_rulesâ€¿raw_updates â† ((0âŠ¸â‰ )âˆ˜â‰ Â¨/âŠ¢)Â¨ (+`âˆ˜(0âŠ¸=)âˆ˜(â‰ Â¨)âŠ”âŠ¢) lines

	Parse â†  {charğ•Šinput:
			(â€¢ParseFloatÂ¨ Â· (charâŠ¸â‰ /âŠ¢)Â¨ ((+`(charâŠ¸=))âŠ”âŠ¢) ) input
	}

	parsed_rules â† '|'âŠ¸ParseÂ¨ raw_rules
	# "parsed_rules"âŠ¸Log  parsed_rules
	rules â† '|'âŠ¸ParseÂ¨ raw_rules
	updates â† ','âŠ¸ParseÂ¨ raw_updates

	ValidateUpdates â† {ğ•Šupdate:
		# rule â† 14âŠ‘rules
		# # rule â†© âŸ¨61, 53âŸ©
		# "rule"âŠ¸Log rule

		# "rules"âŠ¸LogÂ¨ rules
		present â† ({âŒŠÂ´ (ğ•©âŠ¸âˆŠ)update}Â¨/âŠ¢)rules
		validated_rules â† {(âˆ§â‰¡âŠ¢) âˆ¾Ë/Ë˜ (updateâŠ¸(â·Ë˜))Ë˜ ğ•©}Â¨present
		âŒŠÂ´ validated_rules
	}

	validated_updates â† (ValidateUpdatesÂ¨/âŠ¢) updates
	# "validated_updates"âŠ¸LogÂ¨  validated_updates
	mids â† >((âŒŠÂ·2âŠ¸(Ã·Ëœ)â‰ )âŠâŠ¢)Â¨ validated_updates
	+Â´ mids
}

PartTwo â† {ğ•Šlines:
	# "lines"âŠ¸LogÂ¨ lines
	raw_rulesâ€¿raw_updates â† ((0âŠ¸â‰ )âˆ˜â‰ Â¨/âŠ¢)Â¨ (+`âˆ˜(0âŠ¸=)âˆ˜(â‰ Â¨)âŠ”âŠ¢) lines

	Parse â†  {charğ•Šinput:
			(â€¢ParseFloatÂ¨ Â· (charâŠ¸â‰ /âŠ¢)Â¨ ((+`(charâŠ¸=))âŠ”âŠ¢) ) input
	}

	parsed_rules â† '|'âŠ¸ParseÂ¨ raw_rules
	# "parsed_rules"âŠ¸Log  parsed_rules
	rules â† '|'âŠ¸ParseÂ¨ raw_rules
	updates â† ','âŠ¸ParseÂ¨ raw_updates

	# "rules"âŠ¸Log rules
	sorted_rules â† âˆ§ rules

	ValidateUpdates â† {ğ•Šupdate:
		present â† ({âŒŠÂ´ (ğ•©âŠ¸âˆŠ)update}Â¨/âŠ¢)rules
		validated_rules â† {(âˆ§â‰¡âŠ¢) âˆ¾Ë/Ë˜ (updateâŠ¸(â·Ë˜))Ë˜ ğ•©}Â¨present
		âŒŠÂ´ validated_rules
	}

	CorrectUpdates â† {ğ•Šupdate:
		sorted_present â† âˆ§({âŒŠÂ´ (ğ•©âŠ¸âˆŠ)update}Â¨/âŠ¢)rules

		resâ† âŠ‘Â¨((â‹â‰ Â¨)âŠâŠ¢)(âŠâŠ”âŠ¢)(1âŠ¸âŠ‘Â¨) sorted_present
		firstâ†update (Â¬âˆ˜âˆŠâŠ‘âˆ˜/âŠ£) res
		actual â† firstâˆ¾res
		# "expected" Log  "97,75,47,61,53"
		# "expected" Log  "61,29,13"
		# "expected" Log  "97,75,47,29,13"
		# validated_rules â† {(âˆ§â‰¡âŠ¢) âˆ¾Ë/Ë˜ (updateâŠ¸(â·Ë˜))Ë˜ ğ•©}Â¨present
		# âŒŠÂ´ validated_rules

		actual
	}

	invalidate_updates â† (Â¬âˆ˜(ValidateUpdatesÂ¨)/âŠ¢) updates
	# â€¢Show CorrectUpdates 0âŠ‘invalidate_updates
	correctedâ† CorrectUpdatesÂ¨ invalidate_updates
	# "corrected"âŠ¸LogÂ¨  corrected
	mids â† >((âŒŠÂ·2âŠ¸(Ã·Ëœ)â‰ )âŠâŠ¢)Â¨ corrected
	+Â´ mids
}

SolutionValidator â† {partâ€¿expectedğ•Šanswer:
	err_msg â† ("Part "âˆ¾(â€¢Fmt part)âˆ¾" is wrong! Got instead: "âˆ¾(â€¢Fmt answer))
	err_msg!(expected= answer)
	â€¢Show "Correctly solved Part "âˆ¾(â€¢Fmt part)âˆ¾": "âˆ¾(â€¢Fmt answer)
}

# "part 1: " Log PartOne data
# "part 2: " Log PartTwo data
# 1â€¿5329 SolutionValidator PartOne data
2â€¿5833 SolutionValidator PartTwo data

