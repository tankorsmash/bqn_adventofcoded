data â† â€¢file.Lines "../../samples/2024/day10.txt"
data â†© â€¢file.Lines "../../samples/2024/day10_alt.txt"
# data â†© â€¢file.Lines "../../inputs/2024/day10.txt"

# dyadic show but returns paired args
DShow â† {â€¢Show ğ•¨â€¿ğ•©â‹„ ğ•©}

Log â† {msgğ•Šval:
	â€¢Show (<msg)âˆ¾val
	val
}
RLog â† {msgğ•Šval:
	â€¢Show (msg)â‹ˆval
	val
}

# returns 1 if the arg is a simple number/char
IsSimple â† {ğ•Šval:
	âŸ¨âŸ¨âŸ©,0âŸ©â‰¡(â‰¢â‹ˆâ‰¡)val
}

PartOne â† {ğ•Šlines:
	height â† âŠ‘â‰¢lines
	width â† â‰ âŠ‘lines
	widthâ€¿height
	grid â† > â€¢ParseFloatâˆ˜â‰ Â¨Â¨ lines

	LIdx â† {ğ•Šrowâ€¿col:
		row+heightÃ—col
	}

	LCoords â† {ğ•Šidx:
		row â† âŒŠ idxÃ·height
		col â† height|idx
		colâ€¿row
	}
	# â€¢Show LCoords 4
	# â€¢Exit 0

	nbors â† {âŒŠâŠ¸â‰ Ã·âŸœ2â†•â‰ ğ•©}âŠ¸/â¥Š â‹ˆâŒœËœ Â¯1â€¿0â€¿1
	"nbors" RLog nbors
	MaxB â† (<âŸœwidth)âŠ¸âŒŠâŸœ(<âŸœheight)
	MinB â† (â‰¥âŸœ0)âŠ¸âŒŠâŸœ(â‰¥âŸœ0)
	FindN â† {(MinBâŒŠMaxB)Â´Â¨âŠ¸/ (ğ•©âŠ¸â‰¢Â¨)âŠ¸/ â¥Š ğ•©âŠ¸+Â¨Ë˜ nbors}
	"findn" RLog  FindN 0â€¿0
	coords â† â‹ˆâŒœËœ â†•width
	# "coords" RLog coords

	heads_idx â† (/0=â¥Š)grid
	# "heads_idx" RLog heads_idx
	head_coords â† heads_idxâŠâ¥Šcoords
	# "head coords" RLog head_coords
	"grid" RLog grid
  Iter â† {ğ•Šstepâ€¿coord:
		# "step" RLog step
		# "coord" RLog coord
		!IsSimple step

		# â€¢Out 50/"-"
		pot_next_ids â† LIdxÂ¨ FindN coord
		next_idxs â† ({((step+1)âŠ¸=) ğ•©âŠâ¥Šgrid}âŠ¸/ pot_next_ids)
		# "next_idxs" RLog next_idxs
		next_coords â† LCoordsÂ¨ next_idxs
		next_step â† step+1

		res â† ((next_stepâŠ¸â‹ˆ))Â¨Ë˜ next_coords
		"res" RLog res
		res
		# next_coords
	}

	s1 â† 0
	# c1 â† LCoords 0
	c1 â† 3â€¿0

	# s2 â† 5
	# c2 â† LCoords 5
	nexts â† âŸ¨s1â€¿c1âŸ©
	"initial nexts" RLog nexts
	n1 â† nexts
	# n â† âŠ‘nexts
	# "n" RLog n
	"Iter res" RLog nextsâ†© (âˆ¾Â´âˆ˜(IterÂ¨)âŸ9)nexts
	# "Iter res" RLog nexts â†© âˆ¾Â´IterÂ¨ nexts
	# "Iter res" RLog nexts â†© âˆ¾Â´IterÂ¨ nexts
	# "Iter res" RLog nexts â†© âˆ¾Â´IterÂ¨ nexts
	# "Iter res" RLog nexts â†© âˆ¾Â´IterÂ¨ nexts
	# "Iter res" RLog nexts â†© âˆ¾Â´IterÂ¨ nexts
	# "Iter res" RLog nexts â†© âˆ¾Â´IterÂ¨ nexts
	# "Iter res" RLog nexts â†© âˆ¾Â´IterÂ¨ nexts
	# "Iter res" RLog nexts â†© âˆ¾Â´IterÂ¨ nexts
	# "Iter res" RLog nexts â†© âˆ¾Â´IterÂ¨ nexts
	nexts
}

PartTwo â† {ğ•Šlines:
	âˆ
}

SolutionValidator â† {partâ€¿expectedğ•Šanswer:
	err_msg â† ("Part "âˆ¾(â€¢Fmt part)âˆ¾" is wrong! Got instead: "âˆ¾(â€¢Fmt answer))
	err_msg!(expected= answer)
	â€¢Show "Correctly solved Part "âˆ¾(â€¢Fmt part)âˆ¾": "âˆ¾(â€¢Fmt answer)
}

AtLeastPartialSolutionValidator â† {partâ€¿expectedğ•Šanswer:
	err_msg â† ("Part "âˆ¾(â€¢Fmt part)âˆ¾" is too low! Got instead: "âˆ¾(â€¢Fmt answer))
	err_msg!(expectedâ‰¥ answer)
	â€¢Show "Correctly solved Part "âˆ¾(â€¢Fmt part)âˆ¾": "âˆ¾(â€¢Fmt answer)
}

AtMostPartialSolutionValidator â† {partâ€¿expectedğ•Šanswer:
	err_msg â† ("Part "âˆ¾(â€¢Fmt part)âˆ¾" is too high! Got instead: "âˆ¾(â€¢Fmt answer))
	err_msg!(expected< answer)
	â€¢Show "Correctly solved Part "âˆ¾(â€¢Fmt part)âˆ¾": "âˆ¾(â€¢Fmt answer)
}

"part 1: " RLog PartOne data
# "part 2: " Log PartTwo data

# sample
# 1â€¿??? SolutionValidator PartOne data
# input
# 1â€¿??? SolutionValidator PartOne data

# sample
# 2â€¿??? SolutionValidator PartTwo data
# input
# 2â€¿??? SolutionValidator PartTwo data
