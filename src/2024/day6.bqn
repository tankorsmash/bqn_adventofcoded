data â† â€¢file.Lines "../../samples/2024/day6.txt"
# data â†© â€¢file.Lines "../../samples/2024/day6_alt.txt"
# data â†© â€¢file.Lines "../../inputs/2024/day6.txt"


Log â† {msgğ•Šval:
	â€¢Show msgâ€¿val
	val
}


chars â† "^>v<"
RotateGuard â† {ğ•Šchar:
	new_char â† ((â‰ chars)|1+Ëœ/charâ·chars)âŠchars
	âŠ‘new_char
}
Turn90 â† âŒ½Ë˜1âŠ¸â‰

IdxToRowCol â† {boardğ•Šidx:
	rowsâ€¿cols â† â‰¢ board
	row â† âŒŠ idxÃ·rows
	col â† rows|idx
	rowâ€¿col
}
# â€¢Show "IdxToRowCol"âŠ¸Log (>Ë˜ data) IdxToRowCol 24

PartOne â† {ğ•Šlines:

	char â† '>'
	# â€¢Show RotateGuard char

	# "lines"âŠ¸LogÂ¨ lines

	input â† 5â€¿5â¥Š @+97 + â†•26
	â€¢Show Turn90â¼ Turn90âŸ1 input
	# â€¢Exit 0
	input â†© >Ë˜ lines
	input â†© (('.'âŠ¸=â—¶âŠ¢â€¿'â—‹')Â¨)âŒ¾â¥Š input
	"orig input" Log input
	joinedâ† ((â†•â‰ ){yğ•Šline: ((â†•â‰ line)â‹ˆÂ¨Ëœy)â‹ˆÂ¨line }Ë˜âŠ¢)input
	# "joined coords"âŠ¸Log 0âŠ‘Â¨ Turn90 joined
	# "joined char"âŠ¸Log 1âŠ‘Â¨ joined
	first_rowâ€¿first_col â† ((âŠ‘Â·/ â‰ Â¨)â‹ˆ(âŠ‘âˆ˜(â‰ Â¨âˆ¾âˆ˜/âŠ¢)))  <âˆ˜/Ë˜ {âŒˆÂ´âˆ¾Ë˜charsâŠ¸âˆŠâ‹ˆ 1âŠ‘ğ•©}Â¨ joined
	first_obj â† first_rowâ€¿first_col
	"first row,col" Log first_rowâ€¿first_col
	# â€¢Exit 0

	# in: (board, prev input) out: (rotated board, next input)
	Iter â† {obj_rowâ€¿obj_colğ•Šprev_board:
		â€¢Out (25/"-") âˆ¾ "Iter" âˆ¾ (25/"-")
		input â†© Turn90 prev_board

		obj â† obj_rowâ€¿obj_col
		"obj"âŠ¸Log obj

		# "input coords"âŠ¸Log 0âŠ‘Â¨ input
		"rotated (unchanged guard)"âŠ¸Log 1âŠ‘Â¨ input

		"elm_idx" Log elm_idx â† âŠ‘(/(objâŠ¸â‰¡)âˆ˜âŠ‘Â¨) â¥Š input
		rowâ€¿col â† input IdxToRowCol elm_idx
		# "rotated row,col" Log rowâ€¿col
		"grabbed elm from rotated input" Log grabbed â† âˆ¾ rowâ€¿colâŠ‘input
		# rotated_guard â†  RotateGuardâŒ¾(1âŠ¸âŠ‘âˆ˜(rowâ€¿colâŠ¸âŠ‘)) input
		# â€¢Show 1âŠ¸âŠ‘Â¨rotated_guard
		# "input chars" Log 1âŠ‘Â¨ input
		row_pairs â† rowâŠinput
		"row_chars" Log row_charsâ†1âŠ‘Â¨ row_pairs

		!'>'=char #sanity check
		char_idx â† col
		hash_idxs â†  >/'#'=row_chars

		next_hash_idx â† âŠ‘((char_idxâŠ¸<)Â¨/âŠ¢) hash_idxs
		range â† (char_idx+â†• next_hash_idx-char_idx)âŠrow_pairs

		"next_obj" Log next_obj â† âŠ‘ (rowâ€¿(1-Ëœnext_hash_idx))âŠ‘input
		# â€¢Show Turn90â¼ Turn90 1âŠ¸âŠ‘Â¨input

		next_objâ€¿(input)
	}

	next_objâ€¿next_board â† first_obj Iter joined
	next_objâ€¿next_board â†© next_obj Iter next_board
	next_objâ€¿next_board â†© next_obj Iter next_board
	next_objâ€¿next_board â†© next_obj Iter next_board
	âˆ
}

PartTwo â† {ğ•Šlines:
	lines
}

SolutionValidator â† {partâ€¿expectedğ•Šanswer:
	err_msg â† ("Part "âˆ¾(â€¢Fmt part)âˆ¾" is wrong! Got instead: "âˆ¾(â€¢Fmt answer))
	err_msg!(expected= answer)
	â€¢Show "Correctly solved Part "âˆ¾(â€¢Fmt part)âˆ¾": "âˆ¾(â€¢Fmt answer)
}

"part 1: " Log PartOne data
# "part 2: " Log PartTwo data
# 1â€¿5329 SolutionValidator PartOne data
# 2â€¿5833 SolutionValidator PartTwo data

