âŸ¨Get, PostâŸ© â† â€¢Import "../external/bqn-curl/curl.bqn"
âŸ¨FromBytesâŸ© â† â€¢Import "../external/bqn-libs/strings.bqn"
âŸ¨Parse, ExportâŸ© â† â€¢Import "../external/bqn-libs/json.bqn"

Pp â† {â€¢Show 100â†‘â€¢Fmtğ•©â‹„ğ•©}
Rr â† { â€¢Show (100âŠ¸â†‘ â€¢Repr ğ•©)â‹„ğ•©}

Jj â† {â€¢Show (100â†‘ Export ğ•©)â‹„ğ•©}

# use jq to format the json
Jq â† {
	raw_json â† Export ğ•©
	filter â† " | ."
	exitcodeâ€¿stdoutâ€¿stderr â† â€¢SH âŸ¨"jq", "-n", raw_json âˆ¾ filter âŸ©
	â€¢Out 300â†‘ stdout
	ğ•©
}

# finds the data associated to the field
FindColumn â† {
	column_name â† <ğ•¨
	column_name ({((â‰ âŠğ•©)â†‘ğ•¨âŠ¸â·)âˆ˜âŠğ•©}/1âŠ¸âŠ) ğ•©
}




filename â† "../data/securities/2023_aapl.json"

# âŸ¨contentâŸ© â†Get "https://reddit.com/r/programming.json"
# filename â€¢file.Chars (Export Parse content)

content â†  Parse â€¢file.Bytes filename

resultsIdx â† 4
dayIdx â† 1
closeLookup â† 1â€¿3
â€¢Show  âŠ content
â€¢Show  dayIdxâŠ‘ 1â€¿resultsIdx âŠ‘ content
closes â† closeLookupâŠ¸âŠ‘Â¨ 1â€¿resultsIdx âŠ‘ content
sma7 â† (+Â´Ã·â‰ )Ë˜ (0Â¨â†•7)âˆ¾7â†• closes
# â€¢ShowÂ¨ (â†•14)â‹ˆÂ¨(14â†‘sma7)

# â€¢Show 14âŠ â‰[closes, 250â†‘sma7]

# â€¢Show (âŠâˆ¾âŠ¢)âŸ4 3â†• â†•10

â€¢Show  {
		orig_row â† ğ•©
		num_repeats â† 5
		Â¯1âŒ½ {("$"âŠ¸âˆ¾Ë˜Â¨orig_row)âˆ¾ğ•©}âŸnum_repeats â‰ orig_row
	} [1,2,3,4]
