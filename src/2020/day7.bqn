data â† â€¢file.Lines "../../samples/2020/day7.txt"
# data â†© â€¢file.Lines "../../inputs/2020/day7.txt"

SplitBy â† (+`âˆ˜=âŠ”âŠ¢)

# from bqncrate
FindInString â† {âˆŠâŸœğ•©âŒ¾<ğ•¨}

ParseBagLine â† {
	ğ•©

	# line â† "this is my pop tains"
	line â† â€¢Show ((â‰ ğ•©) âŒŠ 100)â†‘ğ•©

	# â€¢Show â‰[line,line]
	to_remove â† " contain "
	mask â† 1âŒˆ(â‰ to_remove)Ã—(to_removeâ·line)
	# â€¢Show (Â¬1â‰ (mask/mask))/line

	bags â† "bags"

	prefix_len â† (/to_removeâ·line)
	suffix_len â† (â‰ to_remove)+prefix_len

	StripCommas â† {
		raw_bag â† ğ•©
		starts_with_comma â†  ','=âŠraw_bag
		without_comma â† (starts_with_comma Ã— 1)â†“raw_bag

		starts_with_space â†  ' '=âŠwithout_comma
		(starts_with_space Ã— 1)â†“without_comma
	}

	# â€¢Show prefix_lenâ†‘line
	raw_contained_bags â† StripCommasÂ¨ ',' SplitBy Â¯1â†“(suffix_len)â†“line
	# â€¢Show "is a 'no other bags' bag?"â€¿(âˆŠâŸœraw_contained_bagsâŒ¾<"no other bags")
	â€¢ShowÂ¨ only_bags â† ("no other bags"âŠ¸â‰¢Â¨/âŠ£)raw_contained_bags
	# â€¢Show "is a 'no other bags' bag?"â€¿("no other bags" FindInString raw_contained_bags)
	# â€¢Show [ "no other bags" ]âˆŠraw_contained_bags

	â€¢Show 50/"-"
	# â€¢Show (+`' '=line)âŠ”line
}

# ParseBagLineÂ¨ data

# data â†© âŸ¨"2 dark red bags", "4 bright white bags","5 muted yellow bags."âŸ©
# â€¢Show data
nums â† '0'+â†•10

# Moves numbers to the start of the list
SplitNumbers â† {
	res â† > Â¬âŒˆË numsâŠ¸= ğ•©
}

# Removes the word "bags" from the body of a string, as many times as it exists
StripBags â† {
	ğ•©
	# â€¢Show "ğ•©"â€¿ğ•©
	to_strip â† " bags"
	# â€¢Show â‰ ( 1â‰ /Ëœ1âŒˆ to_strip ((1âŠ¸-âˆ˜â‰ âŠ£)Ã—â·)ğ•©)
	# â€¢Show "len"â€¿(â‰ ğ•©)

	# because â· is always less than the to_strip, we need to append 1s
	# to make sure we dont accidentally remove the last chars
	padding â† (1Ë˜â†•(1-Ëœâ‰ to_strip))
	((paddingâˆ¾Ëœ Â¬ 1â‰ /Ëœ1âŒˆ to_strip ((1âŠ¸-Ëœâˆ˜â‰ âŠ£)Ã—â·)ğ•©)/âŠ¢)ğ•©
}

# qwe â† " bags"
# â€¢Show [1]âˆ¾(0Ë˜â†•(1-Ëœâ‰ qwe))

(â€¢Show)Â¨  {StripBags ('.'âŠ¸â‰ /âŠ¢)1âŠ¸â†“ğ•©}âŒ¾(1âŠ¸âŠ‘)Â¨ (((â€¢ParsefloatâŠ0) )âŒ¾(âŠ‘))Â¨ (SplitNumbers <âˆ˜âŠ” >)Ë˜ data

# â€¢Show [3, 3, 3]/"abc"

# text â† "cake is cake. yet, cake is not cake!"
# text â†© "cake"
# â€¢Show  "cake"â·text
# â€¢Show  "masked len:"â€¿(â‰  "cake"â·text)
# â€¢Show  text
# â€¢Show  "text len:"â€¿(â‰ text)
#
# â€¢Show 50/"-"
# â€¢Show "cake" â· "cake! i am cake."
# â€¢Show "âŸ¨1 0 0 0 0 0 0 0 0 0 0 1 0âŸ©"

# â€¢Show ((âˆâŠ¸â‰ â†•âˆ˜â‰ )/âŠ£) â†•10

# â€¢Show (<(Â¬+Â´âˆ˜(numsâŠ¸=) ))Ë˜ data


# text â† "hello mr bags, how are you?"
# â€¢Show StripBags text

# arr â† âŸ¨âŸ¨123, "a b c"âŸ©, âŸ¨456, "d e f"âŸ©âŸ©
# â€¢Show (1âŠ¸â†“)âŒ¾(1âŠ¸âŠ‘)Â¨ arr
